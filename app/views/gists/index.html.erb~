<h1>Lista dodanych kodów</h1>

<table>
  <thead>
    <tr>
      <th>Kod</th>
      <th>Język</th>
      <th>Opis</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @gists.each do |gist| %>
      <tr>
        <td><%= raw Pygments.highlight(gist.snippet.length > 50 ? gist.snippet[0,50] + "..." : gist.snippet, lexer: gist.lang) %></td>
        <td><%= gist.lang %></td>
        <td><%= gist.description %></td>
        <td><button type="button" class="btn btn-info btn-lg"><%= link_to 'Podgląd', gist %></td>
        <td><button type="button" class="btn btn-warning btn-lg"><%= link_to 'Edycja', edit_gist_path(gist) %></td>
        <td><button type="button" class="btn btn-danger btn-lg"><%= link_to 'Usuń', gist, method: :delete, data: { confirm: 'Czy jesteś pewny?' } %></button></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<button type="button" class="btn btn-success btn-lg"><%= link_to 'Dodaj kod', new_gist_path %></button>
